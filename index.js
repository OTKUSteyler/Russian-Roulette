(function(e,o,i,t,l,r,c,d){"use strict";const{View:g,Text:h,Switch:R}=d.General;function u(){return c.useProxy(o.storage),React.createElement(g,null,React.createElement(h,null,"Enable Russian Roulette?"),React.createElement(R,{value:o.storage.enabled??!0,onValueChange:function(n){return o.storage.enabled=n}}))}o.storage.settings??={allowReroll:!1};const f=function(){const n=Object.keys(l.listPlugins());if(n.length<=1){t.showToast("Not enough plugins to play!",{type:"error"});return}const s=Math.floor(Math.random()*6)+1;if(s===6)t.showToast("You're lucky! No plugin removed.",{type:"success"});else{const a=n[Math.floor(Math.random()*n.length)];r.showConfirmationAlert("Russian Roulette",`You rolled a ${s}. The plugin "${a}" will be removed!`,function(){l.removePlugin(a),t.showToast(`Plugin "${a}" removed!`,{type:"danger"})},"Proceed","Cancel")}},m=i.addSettings("Russian Roulette",u);function v(){t.showToast("Russian Roulette Plugin Loaded!",{type:"info"})}function w(){m.remove(),t.showToast("Russian Roulette Plugin Unloaded!",{type:"info"})}return e.Settings=u,e.onLoad=v,e.onUnload=w,e.playRussianRoulette=f,e})({},vendetta.plugin,vendetta.ui.settings,vendetta.ui.toasts,vendetta.plugins,vendetta.ui.alerts,vendetta.storage,vendetta.ui.components);

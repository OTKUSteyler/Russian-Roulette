(function(e,o,t,l,s,i,r){"use strict";const{View:c,Text:d,Switch:g}=r.General;function h(){return i.useProxy(o.storage),React.createElement(c,null,React.createElement(d,null,"Enable Russian Roulette?"),React.createElement(g,{value:o.storage.enabled??!0,onValueChange:function(n){return o.storage.enabled=n}}))}o.storage.settings??={allowReroll:!1};const f=function(){const n=Object.keys(l.listPlugins());if(n.length<=1){t.showToast("Not enough plugins to play!",{type:"error"});return}const u=Math.floor(Math.random()*6)+1;if(u===6)t.showToast("You're lucky! No plugin removed.",{type:"success"});else{const a=n[Math.floor(Math.random()*n.length)];s.showConfirmationAlert("Russian Roulette",`You rolled a ${u}. The plugin "${a}" will be removed!`,function(){l.removePlugin(a),t.showToast(`Plugin "${a}" removed!`,{type:"danger"})},"Proceed","Cancel")}};function R(){t.showToast("Russian Roulette Plugin Loaded!",{type:"info"})}function m(){t.showToast("Russian Roulette Plugin Unloaded!",{type:"info"})}return e.Settings=h,e.onLoad=R,e.onUnload=m,e.playRussianRoulette=f,e})({},vendetta.plugin,vendetta.ui.toasts,vendetta.plugins,vendetta.ui.alerts,vendetta.storage,vendetta.ui.components);
